---
import Layout from "@/layouts/Layout.astro";
import PostList from "@/components/PostList.astro";
import ToolList from "@/components/ToolList.astro";
import Ending from "@/components/Ending.astro";
import WebsiteStructuredData from "@/components/WebsiteStructuredData.astro";
import { Image } from "astro:assets";

import heroImage from "@/images/profile-bg-med.png";
---

<Layout title="FireIsWebsite">
  <WebsiteStructuredData slot="structured-data" />
  <section class="hero">
    <div class="hero-content">
      <div class="hero-image-stack">
        <Image src={heroImage} width={400} alt="" loading="eager" class="hero-image" transition:name="profile-image" />
        <div class="hero-image-backer"></div>
      </div>
      <div class="hero-text">
        <h1>FireIsGood</h1>
        <p>How did you get here?</p>
        <div class="buttons">
          <a role="button" class="secondary" href="#works">My Works &darr;</a>
          <a role="button" class="secondary outline" href="/about">About &rarr;</a>
        </div>
      </div>
    </div>
  </section>
  <article>
    <section>
      <h2 id="works">Works</h2>
      <p>
        When I have the time, I like to write articles and silly tools. When I have even more time, I like to contribute
        to Open Source software. I enjoy doing origami and pondering arguably deranged topics as an aside. No matter how
        you got here, I hope you enjoy what you find.
      </p>
      <p>You can find all the things I do on my <a href="https://github.com/FireIsGood" target="_blank">GitHub</a></p>
    </section>
    <hr />
    <section>
      <h2>Recent blog posts</h2>
      <PostList postCount={3} />
    </section>
    <section>
      <h2>Recent tools</h2>
      <ToolList toolCount={3} />
    </section>
  </article>
  <section>
    <Ending />
  </section>
</Layout>

<style>
  section + section {
    margin-top: 2rem;
  }

  section > :global(:last-child) {
    margin-bottom: 0;
  }

  .hero {
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: calc(100vh - 4.5rem);
    max-width: 720px;
    margin-inline: auto;
    padding-bottom: 4.5rem;
  }

  .hero-content {
    display: flex;
    flex-wrap: wrap-reverse;
    justify-content: space-between;
    gap: 1rem 0.5rem;

    h1 {
      font-size: 4rem;
      line-height: 1;
    }

    p {
      margin-bottom: 1.4rem;
    }
  }

  .hero-text {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .hero-image-stack {
    order: 1;
    max-width: 35%;
    display: grid;
  }

  .hero-image {
    box-shadow: var(--shadow-outset);
    grid-area: 1/2;
  }
  .hero-image-backer {
    background: var(--pico-secondary);
    border-radius: var(--pico-border-radius);
    grid-area: 1/2;
    position: relative;
    z-index: -1;
    box-shadow: var(--shadow-outset);
    animation: hero 60s linear infinite;
  }

  .buttons {
    display: flex;
    gap: 0.5rem;
  }

  a[role="button"] {
    font-size: 0.9rem;
    padding: 0.5em 1em;
    border-radius: 2rem;
  }

  hr {
    margin-block: 2.5rem;
  }

  #works {
    scroll-margin-top: 4rem;
  }

  @media (max-width: 550px) {
    .hero {
      min-height: calc(100vh - 8.5rem);
      padding-bottom: 8.6rem;
    }
    .hero-content {
      flex-direction: column;
      text-align: center;
    }
    .hero-image-stack {
      order: unset;
      margin-inline: auto;
      max-width: 50%;
      margin-bottom: 2.5rem;
    }
    .buttons {
      justify-content: center;
    }
  }

  @keyframes hero {
    0% {
      rotate: 0.025turn;
    }
    100% {
      rotate: 1.025turn;
    }
  }
</style>
